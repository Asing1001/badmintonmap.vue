webpackJsonp([1],{173:function(e,t,n){function a(e){n(420)}var o=n(30)(n(181),n(441),a,"data-v-1824bc78",null);e.exports=o.exports},176:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(129),o=(n.n(a),n(89)),s=n(432),i=n.n(s),r=n(177),l=n(236),c=n(418),u=(n.n(c),n(419));n.n(u);o.a.use(l.a),o.a.config.productionTip=!1,new o.a({el:"#app",router:r.a,template:"<App/>",components:{App:i.a}})},177:function(e,t,n){"use strict";var a=n(89),o=n(451),s=n(434),i=n.n(s);a.a.use(o.a),t.a=new o.a({routes:[{path:"/",name:"infoTab",component:i.a}]})},178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"PulseLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,width:this.size,height:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-pulseStretchDelay",animationDuration:"0.75s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.12s"},spinnerDelay2:{animationDelay:"0.24s"},spinnerDelay3:{animationDelay:"0.36s"}}}}},179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},180:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(130),o=n.n(a),s=n(133),i=n.n(s),r=n(174),l=(n.n(r),n(89)),c=n(173),u=n.n(c);l.a.use(r,{load:{key:"AIzaSyBW6jkW1QIMpjw5SUIytKmuQ40emkWLgM8",v:"3"}}),t.default={props:["badmintonInfos","center"],components:{BadTable:u.a},data:function(){return{zoom:15,selectedBadmintonInfos:[]}},methods:{getLocations:function(){var e=this.badmintonInfos.map(function(e){return e.location});return[].concat(i()(new o.a(e)))},handleOk:function(){this.$refs.modal.hide()},showModal:function(e){var t=e.name;this.selectedBadmintonInfos=this.badmintonInfos.filter(function(e){return e.location.name===t}),this.$refs.modal.show()}}}},181:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(130),o=n.n(a),s=n(133),i=n.n(s),r=n(174);n.n(r);n(89).a.use(r,{load:{key:"AIzaSyBW6jkW1QIMpjw5SUIytKmuQ40emkWLgM8",v:"3"}}),t.default={props:["badmintonInfos"],data:function(){return{sortBy:null,sortDesc:!1,badmintonFields:{location:{label:"地點",sortable:!0},distance:{label:"距離(KM)",sortable:!0},weekDay:{label:"禮拜幾",sortable:!0},startTime:{label:"開始時間",sortable:!0},endTime:{label:"結束時間",sortable:!0},payInfo:{label:"金額",sortable:!0},contactName:{label:"聯絡人",sortable:!0},contactPhone:{label:"電話",sortable:!0},line:{label:"Line",sortable:!0}}}},methods:{getLocations:function(){var e=this.badmintonInfos.map(function(e){return e.location});return[].concat(i()(new o.a(e)))},closeModal:function(e){return e.cancel()},showModal:function(e){var t=e.name;this.selectedBadmintonInfos=this.badmintonInfos.filter(function(e){return e.location.name===t}),this.$refs.modal.show()}}}},182:function(e,t,n){"use strict";function a(e,t,n,a){var s=o(a-t),i=o(n-e),r=Math.sin(s/2)*Math.sin(s/2)+Math.cos(o(t))*Math.cos(o(a))*Math.sin(i/2)*Math.sin(i/2),l=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)),c=6371*l;return Math.round(10*c)/10}function o(e){return e*Math.PI/180}Object.defineProperty(t,"__esModule",{value:!0});var s=n(234),i=n.n(s),r=n(43),l=n.n(r),c=n(194),u=n.n(c),d=n(435),f=n.n(d),p=n(433),v=n.n(p),m=n(173),b=n.n(m);t.default={name:"app",components:{PulseLoader:f.a,BadMap:v.a,BadTable:b.a},created:function(){var e=this;return u()(i.a.mark(function t(){var n,o,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.all([fetch("https://qatbadmap.herokuapp.com/api/locationinfolist"),fetch("https://qatbadmap.herokuapp.com/api/badmintoninfolist")]);case 3:return n=t.sent,t.next=6,n[0].json();case 6:return o=t.sent,t.next=9,n[1].json();case 9:s=t.sent,e.badmintonInfos=s.map(function(e){return e.location=o.find(function(t){var n=t.name;return e.location===n}),e}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){var n=t.coords,o=n.latitude,s=n.longitude;e.currentLocation={lat:o,lng:s},e.badmintonInfos=e.badmintonInfos.map(function(e){var t=e.location.position,n=t.lng,i=t.lat;return e.distance=a(s,o,n,i),e})}),e.loading=!1,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.error(t.t0);case 18:case"end":return t.stop()}},t,e,[[0,15]])}))()},data:function(){return{currentLocation:{lat:25.079613,lng:121.556082},loading:!0,badmintonInfos:[],weekDays:[],selectedDays:[0,1,2,3,4,5,6],selectedTime:"",startTimeOptions:[{text:"整天",value:""},{text:"到中午十二點",value:"12"},{text:"中午到下午六點",value:"18"},{text:"六點後",value:"24"}],weekDaysOptions:[{label:"星期日",value:0},{label:"星期一",value:1},{label:"星期二",value:2},{label:"星期三",value:3},{label:"星期四",value:4},{label:"星期五",value:5},{label:"星期六",value:6}]}},methods:{getBadmintonInfos:function(){var e=this;return this.badmintonInfos.filter(function(t){var n=t.weekDayInt,a=t.startHour,o=-1!==e.selectedDays.indexOf(n),s=!e.selectedTime||a<1*e.selectedTime;return o&&s})}}}},418:function(e,t){},419:function(e,t){},420:function(e,t){},421:function(e,t){},422:function(e,t){},423:function(e,t){},424:function(e,t){},425:function(e,t){},426:function(e,t){},432:function(e,t,n){function a(e){n(423)}var o=n(30)(n(179),n(444),a,null,null);e.exports=o.exports},433:function(e,t,n){function a(e){n(422)}var o=n(30)(n(180),n(443),a,"data-v-373e93d2",null);e.exports=o.exports},434:function(e,t,n){function a(e){n(426)}var o=n(30)(n(182),n(449),a,"data-v-8cdfba72",null);e.exports=o.exports},435:function(e,t,n){function a(e){n(424)}var o=n(30)(n(178),n(447),a,null,null);e.exports=o.exports},436:function(e,t,n){var a=n(30)(n(183),n(450),null,null,null);e.exports=a.exports},437:function(e,t,n){var a=n(30)(n(184),n(445),null,null,null);e.exports=a.exports},438:function(e,t,n){function a(e){n(421)}var o=n(30)(n(185),n(442),a,null,null);e.exports=o.exports},439:function(e,t,n){var a=n(30)(n(186),n(446),null,null,null);e.exports=a.exports},440:function(e,t,n){function a(e){n(425)}var o=n(30)(n(187),n(448),a,null,null);e.exports=o.exports},441:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-table",{attrs:{striped:"",hover:"",items:e.badmintonInfos,fields:e.badmintonFields,"sort-by":e.sortBy,"sort-desc":e.sortDesc},on:{"update:sortBy":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"location",fn:function(t){return[e._v(e._s(t.value.name))]}},{key:"distance",fn:function(t){return[e._v(e._s(t.value))]}},{key:"weekDay",fn:function(t){return[e._v(e._s(t.value))]}},{key:"startTime",fn:function(t){return[e._v(e._s(t.value))]}},{key:"endTime",fn:function(t){return[e._v(e._s(t.value))]}},{key:"payInfo",fn:function(t){return[e._v(e._s(t.value))]}},{key:"contactName",fn:function(t){return[e._v(e._s(t.value))]}},{key:"contactPhone",fn:function(t){return[e._v(e._s(t.value))]}},{key:"line",fn:function(t){return[e._v(e._s(t.value))]}}])})},staticRenderFns:[]}},442:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-map-container"},[n("div",{ref:"vue-map",staticClass:"vue-map"}),e._v(" "),n("div",{staticClass:"vue-map-hidden"},[e._t("default")],2),e._v(" "),e._t("visible")],2)},staticRenderFns:[]}},443:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("gmap-map",{staticClass:"gmap",attrs:{center:e.center,zoom:e.zoom}},[n("gmap-cluster",e._l(e.getLocations(),function(t,a){return n("gmap-marker",{key:a,attrs:{position:t.position,clickable:!0},on:{click:function(n){e.showModal(t)}}})}))],1),e._v(" "),n("b-modal",{ref:"modal",attrs:{title:"Location","ok-only":"true",size:"lg"},on:{ok:e.handleOk}},[n("bad-table",{attrs:{badmintonInfos:e.selectedBadmintonInfos}})],1)],1)},staticRenderFns:[]}},444:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e._m(0),e._v(" "),n("main",[n("router-view")],1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("span",[e._v("Badminton map - 羽球地圖")])])}]}},445:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"flyaway"},[e._t("default",[n("div",{domProps:{innerHTML:e._s(e.content)}})])],2)])},staticRenderFns:[]}},446:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",[n("span",{domProps:{textContent:e._s(e.label)}}),e._v(" "),n("input",{ref:"input",class:e.className,attrs:{type:"text",placeholder:e.placeholder}})])},staticRenderFns:[]}},447:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"v-spinner"},[n("div",{staticClass:"v-pulse v-pulse1",style:[e.spinnerStyle,e.spinnerDelay1]}),n("div",{staticClass:"v-pulse v-pulse2",style:[e.spinnerStyle,e.spinnerDelay2]}),n("div",{staticClass:"v-pulse v-pulse3",style:[e.spinnerStyle,e.spinnerDelay3]})])},staticRenderFns:[]}},448:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-street-view-pano-container"},[n("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),e._v(" "),e._t("default")],2)},staticRenderFns:[]}},449:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-12",attrs:{id:"app"}},[n("pulse-loader",{staticStyle:{"margin-top":"50px"},attrs:{loading:e.loading}}),e._v(" "),e.loading?e._e():n("div",[n("b-form",{attrs:{inline:""}},[e._l(e.weekDaysOptions,function(t,a){return n("b-form-checkbox",{key:a,attrs:{value:t.value},model:{value:e.selectedDays,callback:function(t){e.selectedDays=t},expression:"selectedDays"}},[e._v(e._s(t.label))])}),e._v(" "),n("b-form-select",{attrs:{options:e.startTimeOptions},model:{value:e.selectedTime,callback:function(t){e.selectedTime=t},expression:"selectedTime"}})],2),e._v(" "),e.loading?e._e():n("b-tabs",{attrs:{small:""}},[n("b-tab",{attrs:{title:"General map",active:""}},[n("bad-map",{staticClass:"gmap",attrs:{badmintonInfos:e.getBadmintonInfos(),center:e.currentLocation}})],1),e._v(" "),n("b-tab",{attrs:{title:"List Location Info"}},[n("bad-table",{attrs:{badmintonInfos:e.getBadmintonInfos()}})],1)],1)],1)],1)},staticRenderFns:[]}},450:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{ref:"input",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.value}})},staticRenderFns:[]}},460:function(e,t,n){n(129),e.exports=n(176)}},[460]);
//# sourceMappingURL=app.fb46e5f95111a3d102b8.js.map